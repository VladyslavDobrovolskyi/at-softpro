# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è softpro.ua ‚Äî Playwright + Bruno (.bru) (—É–∫—Ä.) ‚úÖ

**–ö–æ—Ä–æ—Ç–∫–æ:** —Ü–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—ñ —Ç–µ—Å—Ç–∏ –Ω–∞ Playwright —ñ API-—Ç–µ—Å—Ç–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ Bruno (.bru). –¢–µ—Å—Ç–∏ –ø–æ–∫—Ä–∏–≤–∞—é—Ç—å —Ñ–æ—Ä–º—É ¬´–û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—é¬ª –π –ø—ñ–¥–ø–∏—Å–∫—É –Ω–∞ —Ä–æ–∑—Å–∏–ª–∫—É.

---

## üìå –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ

- **Playwright (–±—Ä–∞—É–∑–µ—Ä–Ω—ñ) —Ç–µ—Å—Ç–∏**
    - `consultation-form.spec.ts` ‚Äî –ø–æ–∑–∏—Ç–∏–≤–Ω—ñ, –Ω–µ–≥–∞—Ç–∏–≤–Ω—ñ, property-based (fast-check), –±–µ–∑–ø–µ–∫–∞ (XSS/SQLi).
    - `newsletter-email.spec.ts` ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤–∞–ª—ñ–¥–Ω–∏—Ö/–Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö email, –º–µ–∂–æ–≤—ñ —Ç–∞ –º—ñ–∂–Ω–∞—Ä–æ–¥–Ω—ñ –∫–µ–π—Å–∏.
    - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ POM: `tests/pages/consultation-form.page.ts`, `tests/pages/newsletter.page.ts`.
    - –ë–µ–∑–ø–µ—á–Ω–∏–π —Ä–µ–∂–∏–º –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É –ø—Ä–æ—Ç–∏ production: –≤—Å—ñ POST –¥–æ `/api/**` –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –ø–µ—Ä–µ—Ö–æ–ø–ª—é—é—Ç—å—Å—è.

- **API —Ç–µ—Å—Ç–∏ (.bru)**
    - –ö–æ–ª–µ–∫—Ü—ñ—ó –≤ –ø–∞–ø–∫–∞—Ö `api/consultation-form/...` —ñ `api/newsletter-email/...` (valid, invalid, empty body, long fields, SQLi, duplicate, wrong Content-Type —Ç–æ—â–æ).

- **–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, –ø—ñ–¥—Ö–æ–¥–∏**
    - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö: **@faker-js/faker**, property-based **fast-check** (—Å–µ–º–ø–ª–∏).
    - –ó–≤—ñ—Ç–∏: **Allure** (–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤ `playwright.config.ts`, —Å–∫—Ä–∏–ø—Ç–∏ `pnpm run allure:generate` / `pnpm run allure:open`).
    - –¢–∏–ø—ñ–∑–∞—Ü—ñ—è: TypeScript —É —Ç–µ—Å—Ç–∞—Ö —ñ POM.

---

## üß≠ –Ø–∫ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ

- Playwright (—É—Å—ñ —Ç–µ—Å—Ç–∏, headless):

```bash
npx playwright test
```

- –û–¥–∏–Ω —Ñ–∞–π–ª —É headed —Ä–µ–∂–∏–º—ñ (—â–æ–± –±–∞—á–∏—Ç–∏ –±—Ä–∞—É–∑–µ—Ä):

```bash
npx playwright test newsletter-email.spec.ts --project=chromium -j 1 --headed
```

- Allure (–ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç—ñ–≤):

```bash
pnpm run allure:generate
pnpm run allure:open
```

- Bruno `.bru` —Ç–µ—Å—Ç (–≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –≤–∞—à–æ–≥–æ runner):
    - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤–∞—à Bruno CLI (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `bruno run path/to/test.bru`).

---

## üîí –ë–µ–∑–ø–µ—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ç–∏ production

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º UI-—Ç–µ—Å—Ç–∏ –ø–µ—Ä–µ—Ö–æ–ø–ª—é—é—Ç—å —ñ –ø—ñ–¥–º—ñ–Ω—é—é—Ç—å POST-–∑–∞–ø–∏—Ç–∏ (`page.route('**/api/**')`) —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∑–º—ñ–Ω —É production. –©–æ–± –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –∑–∞–ø–∏—Ç–∏, –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–º—ñ–Ω–Ω—É –æ—Ç–æ—á–µ–Ω–Ω—è:

- Windows (cmd):

```bash
set RUN_PROD_REAL=true && npx playwright test
```

- Unix:

```bash
RUN_PROD_REAL=true npx playwright test
```

---

## üóÇÔ∏è –î–µ —à—É–∫–∞—Ç–∏ —Ñ–∞–π–ª–∏

- Playwright: `*.spec.ts` —É –∫–æ—Ä–µ–Ω—ñ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é; POM –≤ `tests/pages/`.
- Bruno API: `api/consultation-form/` —Ç–∞ `api/newsletter-email/`.

---

## ‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–µ—Å—Ç

1. –î–æ–¥–∞–π—Ç–µ `*.spec.ts` (UI) –∞–±–æ `.bru` (API) —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –ø–∞–ø–∫—É.
2. –î–ª—è UI ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ POM, –¥–æ–¥–∞–π—Ç–µ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫—É —É `beforeEach` —ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ —É `afterEach`.
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ —ñ –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ Allure-–∑–≤—ñ—Ç–∏.

---